
<app-data-dialog 
    [title]="'Create New Article'" 
    [open]="open()"
    (confirm)="confirmEdit()"
    (cancel)="cancelEdit()"
>
    <form [formGroup]="articleForm" >
        <div class="form-content">
            <mat-form-field appearance="outline" class="form-field title">
                <mat-label>title</mat-label>
                <input matInput placeholder="Enter title please" formControlName="title">
            </mat-form-field>
            <mat-form-field appearance="outline" class="form-field author">
                <mat-label>author</mat-label>
                <input matInput placeholder="Enter title please" formControlName="author">
            </mat-form-field>
           
            @if(tagData().length > 0){
                <div class="tag-selection" formArrayName="tag">
                    <label>Article Tagï¼š</label>
                    @for(tagItem of tagData(); track tagItem.value; let i = $index) {
                    <mat-checkbox [formControlName]="i">
                        {{ tagItem.name }}
                    </mat-checkbox>
                    }
                </div>
            }
            
            <div class="publish-status">
                <mat-slide-toggle formControlName="published">
                  {{ articleForm.get('published')?.value ? 'published' : 'draft' }}
                </mat-slide-toggle>
              </div>
            
            <mat-form-field appearance="outline" class="form-field content">
                <mat-label>Content</mat-label>
                <textarea matInput 
                            placeholder="Enter content please" 
                            formControlName="content"
                            rows="6"
                            cols="50">
                </textarea>
            </mat-form-field>
            <div slot="action" class="action-container">
                <button mat-button [disabled]="loading()" (click)="cancelEdit();">Cancel</button>
                <button matButton="filled" [disabled]="loading()" (click)="confirmEdit();">
                    @if(loading()){
                        Saving...
                    }@else{
                        Save
                    }
                </button>
            </div>
        </div>
    </form>
</app-data-dialog>